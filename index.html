<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ecopiensa Evolution | Gesti√≥n Ambiental & IA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary-green: #4ade80;
            --corporate-green: #a8b808;
            --dark-bg: #020617;
        }
        body, html {
            margin: 0; padding: 0;
            background-color: var(--dark-bg);
            color: white;
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            overflow-x: hidden;
        }

        /* Capas de Fondo y UI */
        #canvas-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        #hand-cursor {
            position: fixed;
            width: 40px; height: 40px;
            background: rgba(74, 222, 128, 0.4);
            border: 2px solid var(--primary-green);
            border-radius: 50%;
            pointer-events: none;
            z-index: 10000;
            display: none;
            transform: translate(-50%, -50%);
            transition: background 0.2s, transform 0.1s;
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(15px);
            border: 1px solid rgba(74, 222, 128, 0.1);
            border-radius: 30px;
        }

        .section-view {
            display: none;
            min-height: 100vh;
            padding-top: 100px;
            animation: fadeIn 0.5s ease-out forwards;
        }

        .active-view { display: block; }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .gesture-hint {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
            font-size: 10px;
            background: rgba(0,0,0,0.5);
            padding: 10px;
            border-radius: 10px;
            pointer-events: none;
        }

        /* Galer√≠a */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
        }
        .gallery-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 15px;
            transition: all 0.3s;
        }
        .gallery-item:hover img {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(74, 222, 128, 0.2);
        }

        /* Airbnb Responsiveness */
        .airbnb-container {
            max-width: 100%;
            overflow: hidden;
        }
    </style>
</head>
<body>

    <div id="hand-cursor"></div>
    <div id="canvas-container"></div>
    <video id="video-hidden" style="display:none" playsinline></video>

    <!-- Instrucciones de IA -->
    <div class="gesture-hint glass-card border-green-500/30">
        <p class="font-bold text-green-400 mb-1 uppercase tracking-tighter">Comandos Gestuales:</p>
        <ul class="opacity-70 space-y-1">
            <li>üñêÔ∏è Mover mano: Desplazar puntero</li>
            <li>‚ÜïÔ∏è Arriba/Abajo: Scroll p√°gina</li>
            <li>‚ÜîÔ∏è Izquierda/Derecha: Cambiar secci√≥n</li>
            <li>üëå Pellizco doble: Click</li>
        </ul>
    </div>

    <!-- Navegaci√≥n -->
    <nav class="fixed top-0 w-full p-4 md:p-6 flex justify-between items-center bg-black/80 backdrop-blur-lg border-b border-green-500/20 z-[1000]">
        <div class="flex items-center gap-4 cursor-pointer" onclick="showView('home')">
            <img src="https://static.wixstatic.com/media/27997d_1f8ac09f823d443ab08441baed42fa60~mv2.png" alt="Logo" class="h-10 md:h-12">
            <div class="hidden sm:block leading-none">
                <h2 class="font-black tracking-tighter uppercase text-sm md:text-base">ECOPIENSA</h2>
                <p class="text-[8px] text-green-400 tracking-[0.4em] font-bold uppercase text-center">EVOLUTION</p>
            </div>
        </div>
        
        <div class="flex items-center gap-4 md:gap-8">
            <div class="flex gap-4 md:gap-6 text-[9px] font-black uppercase tracking-widest">
                <button onclick="showView('home')" class="hover:text-green-400 transition nav-link" id="nav-home">Inicio</button>
                <button onclick="showView('impacto')" class="hover:text-green-400 transition nav-link" id="nav-impacto">Impacto Social</button>
                <button onclick="showView('finca')" class="hover:text-green-400 transition nav-link" id="nav-finca">Turismo</button>
            </div>
            <a href="https://wa.me/573222070501" target="_blank" class="bg-green-500 text-black px-4 py-2 rounded-full font-black text-[10px] uppercase">WhatsApp</a>
        </div>
    </nav>

    <div id="content-wrapper">
        
        <!-- SECCI√ìN 1: INICIO -->
        <section id="home-view" class="section-view active-view container mx-auto px-6">
            <div class="grid lg:grid-cols-2 gap-12 items-center min-h-[80vh]">
                <div class="text-center lg:text-left">
                    <img src="https://static.wixstatic.com/media/27997d_1f8ac09f823d443ab08441baed42fa60~mv2.png" class="h-32 mb-8 mx-auto lg:mx-0 drop-shadow-[0_0_30px_rgba(74,222,128,0.3)]">
                    <h1 class="text-5xl md:text-7xl font-black mb-6 uppercase tracking-tighter leading-none">Tulu√°<br><span class="text-green-400">Sostenible</span></h1>
                    <p class="text-xl opacity-70 mb-10 max-w-xl">Liderando la gesti√≥n integral de residuos y la evoluci√≥n ambiental desde el coraz√≥n del Valle del Cauca con tecnolog√≠a de IA.</p>
                    <div class="flex flex-wrap justify-center lg:justify-start gap-4">
                        <button onclick="showView('impacto')" class="bg-white text-black px-10 py-4 rounded-full font-black text-xs uppercase tracking-widest hover:bg-green-400 transition">Proceso Social</button>
                        <button onclick="showView('finca')" class="border border-white/20 px-10 py-4 rounded-full font-black text-xs uppercase tracking-widest hover:bg-white hover:text-black transition">Alquiler Finca</button>
                    </div>
                </div>
                <div class="glass-card p-6 aspect-video flex items-center justify-center relative overflow-hidden">
                    <div class="text-center">
                        <div class="text-4xl mb-4">üèóÔ∏è ‚ôªÔ∏è üçÉ</div>
                        <h3 class="font-black uppercase tracking-widest mb-2">Estrategia Ambiental</h3>
                        <p class="text-xs opacity-50">Gesti√≥n RCD ‚Ä¢ Reciclaje ‚Ä¢ Org√°nicos</p>
                    </div>
                    <!-- Humo 3D interactuar√° visualmente aqu√≠ -->
                </div>
            </div>
        </section>

        <!-- SECCI√ìN 2: IMPACTO SOCIAL (GALER√çA) -->
        <section id="impacto-view" class="section-view container mx-auto px-6">
            <div class="text-center mb-12">
                <h2 class="text-5xl md:text-7xl font-black uppercase tracking-tighter">Impacto Social</h2>
                <p class="text-green-400 font-bold uppercase tracking-widest text-xs mt-2">Nuestra labor con la comunidad</p>
            </div>
            
            <div class="gallery-grid" id="social-gallery">
                <!-- Im√°genes inyectadas por JS -->
            </div>
        </section>

        <!-- SECCI√ìN 3: TURISMO / FINCA -->
        <section id="finca-view" class="section-view container mx-auto px-6">
            <div class="grid lg:grid-cols-2 gap-12 items-start">
                <div class="space-y-8">
                    <h2 class="text-6xl font-black uppercase tracking-tighter">Finca <br><span class="text-green-400">Campestre</span></h2>
                    <p class="text-xl opacity-70 leading-relaxed">Ubicada en Andaluc√≠a/Tulu√°, nuestra finca es un centro de bienestar hol√≠stico y turismo ambiental sostenible. Disfruta de la naturaleza con total comodidad.</p>
                    
                    <div class="glass-card p-6 border-l-4 border-green-500">
                        <h4 class="font-bold mb-2">Caracter√≠sticas</h4>
                        <ul class="text-sm opacity-60 space-y-2">
                            <li>‚Ä¢ Registro Nacional de Turismo habilitado</li>
                            <li>‚Ä¢ 5 Habitaciones amplias</li>
                            <li>‚Ä¢ 9 Camas / Capacidad grupos</li>
                            <li>‚Ä¢ 5 Ba√±os y zonas sociales</li>
                        </ul>
                    </div>
                    
                    <div class="flex gap-4">
                        <a href="https://www.instagram.com/f.ecopiensa_evolution/" target="_blank" class="opacity-50 hover:opacity-100 transition">Instagram</a>
                        <a href="https://facebook.com/FundacionEecopiensaEvolution" target="_blank" class="opacity-50 hover:opacity-100 transition">Facebook</a>
                    </div>
                </div>

                <div class="glass-card p-8 flex flex-col items-center">
                    <h3 class="font-black uppercase mb-6 text-center">Reserva por Airbnb</h3>
                    <div class="airbnb-container rounded-2xl overflow-hidden shadow-2xl bg-white">
                        <div class="airbnb-embed-frame" data-id="45494178" data-view="home" data-hide-price="true" style="width: 100%; max-width: 450px; height: 300px; margin: auto;">
                            <a href="https://es-l.airbnb.com/rooms/45494178?guests=1&amp;adults=1&amp;s=66&amp;source=embed_widget">Ver en Airbnb</a>
                            <a href="https://es-l.airbnb.com/rooms/45494178?guests=1&amp;adults=1&amp;s=66&amp;source=embed_widget" rel="nofollow">Casa de campo ¬∑ Andaluc√≠a ¬∑ ‚òÖ4.2 ¬∑ 5 habitaciones ¬∑ 9 camas ¬∑ 5 ba√±os</a>
                            <script async="" src="https://www.airbnb.com.co/embeddable/airbnb_jssdk"></script>
                        </div>
                    </div>
                    <p class="mt-6 text-xs opacity-40 text-center">NIT: 900998128 | Tulu√°, Valle del Cauca</p>
                </div>
            </div>
        </section>

        <footer class="py-20 text-center opacity-20 text-[9px] uppercase tracking-[0.5em]">
            Fundaci√≥n Ecopiensa Evolution ¬© 2026 | Evoluci√≥n Ambiental e Industrial
        </footer>
    </div>

    <script>
        // --- BASE DE DATOS DE IM√ÅGENES ---
        const images = [
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/activida%20del%20dia%20dle%20ni%C3%B1o%20acome.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/activida%20del%20dia%20dle%20ni%C3%B1o%20fundadores.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/activida%20del%20dia%20dle%20ni%C3%B1o.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20con%20el%20ni%C3%B1o%20escasos%20recursos.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20con%20ni%C3%B1os%20deporte%20poblacion%20vulnerable.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20de%20payasos%20con%20brigada%20de%20salud.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20dia%20dle%20ni%C3%B1o%20con%20policia%2002.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20dia%20dle%20ni%C3%B1o%20con%20policia%201.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20dia%20dle%20ni%C3%B1o%20con%20policia%202.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20dia%20dle%20ni%C3%B1o%20con%20policia%203.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20dia%20dle%20ni%C3%B1o%20con%20policia%204.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20dia%20dle%20ni%C3%B1o%20con%20policia%205.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20dia%20dle%20ni%C3%B1o%20con%20policia%206.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20dia%20dle%20ni%C3%B1o%20con%20policia%207.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/actividad%20dia%20dle%20ni%C3%B1o%20con%20policia.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigada%20de%20salud%20acome%20defensa%20civil%20tulua%20fundacion.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigada%20de%20salud%20con%20ejercito%201.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigada%20de%20salud%20con%20ejercito%202.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigada%20de%20salud%20con%20ejercito%203.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigada%20de%20salud%20en%20zona%20rural%20con%20ejercito%203.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigada%20de%20salud%20en%20zona%20rural%20con%20ejercito.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigadas%20de%20salud%20poblacion%20vulnerable%2010.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigadas%20de%20salud%20poblacion%20vulnerable%204.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigadas%20de%20salud%20poblacion%20vulnerable%205.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigadas%20de%20salud%20poblacion%20vulnerable%206.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigadas%20de%20salud%20poblacion%20vulnerable%207.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigadas%20de%20salud%20poblacion%20vulnerable%208.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigadas%20de%20salud%20poblacion%20vulnerable%209.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigadas%20de%20salud%20poblacion%20vulnerable.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/brigadas%20de%20salud%20poblacion%20vulnerable2.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/corte%20de%20pelo%20en%20brigada%20de%20saud%20ni%C3%B1os.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/corte%20de%20pelo%20en%20brigada%20de%20saud%20ni%C3%B1osc2.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/dia%20del%20ni%C3%B1o%201.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/fundadores%20fudacion.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/logo%20ni%C3%B1o.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/medicos%20en%20brigada%20de%20salud%20poblacion%20vulvenrable%20acome%202.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/medicos%20en%20brigada%20de%20salud%20poblacion%20vulvenrable%20acome%203.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/medicos%20en%20brigada%20de%20salud%20poblacion%20vulvenrable%20acome.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/medicos%20en%20brigada%20de%20salud%20y%20ejercito.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/ni%C3%B1os%20embera%20comunidad%20indigena%20vulnerable.PNG",
            "https://raw.githubusercontent.com/FUNDACIONECOPIENSAEVOLUTION/PAGINA/main/imagenes%20iniciales/poblacion%20vulnerable%20ni%C3%B1os.PNG"
        ];

        // --- SISTEMA DE NAVEGACI√ìN ---
        const views = ['home', 'impacto', 'finca'];
        let currentViewIndex = 0;

        function showView(viewId) {
            document.querySelectorAll('.section-view').forEach(v => v.classList.remove('active-view'));
            document.getElementById(viewId + '-view').classList.add('active-view');
            window.scrollTo(0,0);
            currentViewIndex = views.indexOf(viewId);
            
            // Actualizar estilo nav
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('text-green-400'));
            document.getElementById('nav-' + viewId).classList.add('text-green-400');
        }

        // --- INICIALIZACI√ìN DE CONTENIDO ---
        function initGallery() {
            const container = document.getElementById('social-gallery');
            images.forEach(src => {
                const div = document.createElement('div');
                div.className = 'gallery-item';
                div.innerHTML = `<img src="${src}" loading="lazy" alt="Impacto Social Ecopiensa">`;
                container.appendChild(div);
            });
        }

        // --- L√ìGICA THREE.JS (FONDO DIN√ÅMICO) ---
        let scene, camera, renderer, points;
        function initThree() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
            camera.position.z = 5;
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.getElementById('canvas-container').appendChild(renderer.domElement);

            const geometry = new THREE.BufferGeometry();
            const vertices = [];
            for (let i = 0; i < 5000; i++) {
                vertices.push(THREE.MathUtils.randFloatSpread(20), THREE.MathUtils.randFloatSpread(20), THREE.MathUtils.randFloatSpread(10));
            }
            geometry.setAttribute('position', new THREE.Float32BufferAttribute(vertices, 3));
            const material = new THREE.PointsMaterial({ color: 0x4ade80, size: 0.05, transparent: true, opacity: 0.3 });
            points = new THREE.Points(geometry, material);
            scene.add(points);
            animate();
        }

        function animate() {
            requestAnimationFrame(animate);
            points.rotation.y += 0.001;
            points.rotation.x += 0.0005;
            renderer.render(scene, camera);
        }

        // --- L√ìGICA DE IA (MEDIAPIPE HANDS) ---
        const cursor = document.getElementById('hand-cursor');
        let lastPinchTime = 0;
        let isPinching = false;
        let prevY = 0;
        let prevX = 0;
        let gestureCooldown = false;

        const hands = new Hands({ locateFile: (file) => `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${file}` });
        hands.setOptions({ maxNumHands: 1, modelComplexity: 1, minDetectionConfidence: 0.7, minTrackingConfidence: 0.7 });

        hands.onResults((results) => {
            if (results.multiHandLandmarks && results.multiHandLandmarks.length > 0) {
                const landmarks = results.multiHandLandmarks[0];
                const indexTip = landmarks[8];
                const thumbTip = landmarks[4];
                
                // Coordenadas pantalla
                const x = (1 - indexTip.x) * window.innerWidth;
                const y = indexTip.y * window.innerHeight;

                cursor.style.display = 'block';
                cursor.style.left = x + 'px';
                cursor.style.top = y + 'px';

                // 1. SCROLL (Detecci√≥n de movimiento vertical)
                const deltaY = (indexTip.y - prevY) * 1000;
                if (Math.abs(deltaY) > 5) {
                    window.scrollBy(0, deltaY * 2);
                }
                prevY = indexTip.y;

                // 2. NAVEGACI√ìN LATERAL (Detecci√≥n de extremos)
                if (!gestureCooldown) {
                    if (indexTip.x < 0.1) { // Lado derecho (invertido)
                        navigateSection(1);
                    } else if (indexTip.x > 0.9) { // Lado izquierdo
                        navigateSection(-1);
                    }
                }

                // 3. DOBLE CLICK (Pellizco)
                const dist = Math.sqrt(Math.pow(indexTip.x - thumbTip.x, 2) + Math.pow(indexTip.y - thumbTip.y, 2));
                if (dist < 0.04) {
                    if (!isPinching) {
                        const now = Date.now();
                        if (now - lastPinchTime < 500) {
                            const el = document.elementFromPoint(x, y);
                            if (el) el.click();
                            cursor.style.background = 'white';
                            setTimeout(() => cursor.style.background = 'rgba(74, 222, 128, 0.4)', 200);
                        }
                        lastPinchTime = now;
                        isPinching = true;
                    }
                } else {
                    isPinching = false;
                }
            } else {
                cursor.style.display = 'none';
            }
        });

        function navigateSection(dir) {
            gestureCooldown = true;
            let nextIndex = currentViewIndex + dir;
            if (nextIndex >= 0 && nextIndex < views.length) {
                showView(views[nextIndex]);
            }
            setTimeout(() => gestureCooldown = false, 1500); // Cooldown para evitar saltos locos
        }

        const videoElement = document.getElementById('video-hidden');
        const cameraObj = new Camera(videoElement, {
            onFrame: async () => { await hands.send({image: videoElement}); },
            width: 640, height: 480
        });
        
        window.onload = () => {
            initThree();
            initGallery();
            cameraObj.start();
        };

        window.onresize = () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        };
    </script>
</body>
</html>
